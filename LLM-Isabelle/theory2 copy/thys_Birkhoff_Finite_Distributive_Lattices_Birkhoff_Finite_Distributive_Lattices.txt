theory Birkhoff_Finite_Distributive_Lattices
  imports
    "HOL-Library.Finite_Lattice"
    "HOL.Transcendental"
begin

unbundle lattice_syntax




definition (in bounded_lattice_bot) atomic :: "'a \<Rightarrow> bool" where
  "atomic x \<equiv> x \<noteq> \<bottom> \<and> (\<forall> y. y \<le> x \<longrightarrow> y = \<bottom> \<or> y = x)"

       elements. \<close>
text \<open> Every join-prime is also join-irreducible. \<close>
text \<open> In the special case when the underlying lattice is
       distributive, the join-prime elements and join-irreducible
       elements coincide. \<close>
      using \<open>join_irreducible x\<close>
          \<open>join_irreducible x\<close> 
text \<open> Every atomic element is join-irreducible. \<close>
text \<open> In the case of Boolean algebras, atomic elements and
       join-prime elements are one-in-the-same. \<close>
      using \<open>atomic x\<close> inf.cobounded1 inf.cobounded2
      using \<open>atomic x\<close> atomic_def by auto
    using \<open>atomic x\<close> join_prime_def atomic_def
        \<open>join_prime x\<close>
        \<open>y \<noteq> x\<close> 
        \<open>y \<le> x\<close>
            \<open>x = x \<squnion> y\<close>
    using \<open>join_prime x\<close>
text \<open> All atomic elements are disjoint. \<close>
    using \<open>atomic \<alpha>\<close>
section \<open> Birkhoff's Representation Theorem For Finite Distributive Lattices \label{section:birkhoffs-theorem} \<close>
text \<open> Birkhoff's representation theorem for finite distributive
       can be represented by the join-irreducible elements beneath it. \<close>
text \<open> In this section we merely demonstrate the representation aspect of
       Birkhoff's theorem. In \S\ref{section:isomorphism} we show this 
       representation is a lattice homomorphism. \<close>
text \<open> The fist step to representing elements is to show that there \<^emph>\<open>exist\<close>
       distributive lattices, which are necessarily \<^emph>\<open>complete\<close>. \<close>
      using \<open>j \<in> \<lbrace> - x \<rbrace>\<close>
      using \<open>j \<in> \<J>\<close>
section \<open> Cardinality \<close>
text \<open> Another consequence of Birkhoff's theorem from \S\ref{section:birkhoffs-theorem}
       is that every finite Boolean algebra has a cardinality which is 
       a power of two. This gives a bound on the number of 
       atoms/join-prime/irreducible elements, which must be logarithmic in 
       the size of the finite Boolean algebra they belong to. \<close>
text \<open> We first show that \<open>\<O>\<J>\<close>, the downsets of the join-irreducible elements 
       \<open>\<J>\<close>, are the same as the powerset of \<open>\<J>\<close> in any finite Boolean algebra. \<close>
            \<open>S \<subseteq> \<J>\<close> 
        \<open>y \<le> \<Squnion> S\<close>
        \<open>S \<subseteq> \<J>\<close>
          using \<open>y \<in> \<J>\<close>
          using \<open>y \<in> \<J>\<close>
                  \<open>y \<in> \<J>\<close> 
                  \<open>y \<le> s\<close> 
        using \<open>?Uy = ?Uz\<close>
        using \<open>y = fst z \<union> snd z\<close> by blast
        using \<open>y \<in> Pow (insert x X)\<close> by auto
