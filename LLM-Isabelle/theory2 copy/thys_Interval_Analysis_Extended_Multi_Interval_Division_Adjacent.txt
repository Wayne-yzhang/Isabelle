theory
  Extended_Multi_Interval_Division_Adjacent
imports
  Extended_Multi_Interval_Division_Core
begin


lemma set_of_adj_non_zero_map_inverse:
proof(insert assms, induction "mlist_adj xs")
  case Nil
  then show ?case 
    by simp 
next
  case (Cons a x)
  then show ?case 
    using set_of_adj_non_zero_list_all[of xs, simplified Cons, simplified]
    by (metis (no_types, lifting) concat_map_singleton inverse_interval_def map_eq_conv) 
qed

interpretation minterval_adj_division_inverse minterval_adj_divide minterval_adj_inverse
  apply(unfold_locales)
  subgoal 
    using set_of_adj_non_zero_map_inverse
    unfolding minterval_adj_inverse_def minverse_def o_def un_op_interval_list_def 
    by fastforce
  subgoal by(metis minterval_adj_divide_def)
  done

end
