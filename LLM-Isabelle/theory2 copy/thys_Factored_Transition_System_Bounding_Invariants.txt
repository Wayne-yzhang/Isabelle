theory Invariants
  imports Main "FactoredSystem"
begin

definition fdom :: "('a \<Rightarrow> 'b) \<Rightarrow> 'a set" where 
  "fdom f \<equiv> {x. \<exists>y. f x = y}"

definition invariant :: "('a \<Rightarrow> bool) \<Rightarrow> bool" where
  "invariant fm \<equiv> (\<forall>x. (x \<in> fdom fm \<and> fm x) \<longrightarrow> False) \<and> (\<exists>x. x \<in> fdom fm \<and> fm x)"

end