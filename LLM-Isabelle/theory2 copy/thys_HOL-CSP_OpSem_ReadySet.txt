theory  ReadySet
  imports Sliding Throw Interrupt
begin











  unfolding ready_set_def using is_processT3_ST by force+



      These two definitions are not equivalent (and the second one is more restrictive
      than the first one). Moreover, the second does not behave well with the 
      
      Therefore, we will keep the first one.

      We also have a strong argument of authority: this is the definition


notepad
begin

  define bad_ready_set

  have bad_ready_set_subset_ready_set:
    unfolding bad_ready_set_def ready_set_def Refusals_iff
    using F_T is_processT5_S6 by blast

  have bad_behaviour_with_Ndet: 
  proof (intro exI)
    by (simp add: Ndet_BOT)
       (simp add: bad_ready_set_def F_Ndet F_SKIP F_UU Refusals_iff)
  qed
end




  by (simp add: Collect_mono_iff trace_refine_def ready_set_def subsetD)

  unfolding failure_refine_def
  by (drule F_subset_imp_T_subset) (fact anti_mono_ready_set_T[unfolded trace_refine_def])


  by (simp add: anti_mono_ready_set_F leFD_imp_leF)

  by (simp add: anti_mono_ready_set_T le_approx_lemma_T trace_refine_def)

  by (simp add: anti_mono_ready_set_T leDT_imp_leT)



  by (simp add: ready_set_def T_STOP)

