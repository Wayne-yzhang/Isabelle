theory Example_Coin_Toss
  imports Martingale "HOL-Probability.Stream_Space" "HOL-Probability.Probability_Mass_Function"
begin


      Then, we have the following three cases.\<close>
text \<open>1. If \<open>p = 1/2\<close>, it means the coin is fair and has an equal chance of landing heads or tails. 
      Therefore, \<open>(X\<^sub>n)\<^sub>n\<^sub>\<in>\<^sub>\<nat>\<close> is a martingale.\<close>
text \<open>2. If \<open>p \<ge> 1/2\<close> , it means the coin is biased in favor of heads. In this case, the gambler is more likely to win money on each bet. 
      Therefore, \<open>(X\<^sub>n)\<^sub>n\<^sub>\<in>\<^sub>\<nat>\<close> is a submartingale.\<close>
text \<open>3. If \<open>p \<le> 1/2\<close> , it means the coin is biased in favor of tails. In this scenario, the gambler is more likely to lose money on each bet. 
      Therefore, \<open>(X\<^sub>n)\<^sub>n\<^sub>\<in>\<^sub>\<nat>\<close> is a supermartingale.\<close>
text \<open>To formalize this example, we first consider a probability space consisting of infinite sequences of coin tosses.\<close>
text \<open>We define the fortune of the player at time \<^term>\<open>n\<close> to be the number of heads minus number of tails.\<close>
text \<open>Our definition of \<^term>\<open>bernoulli_stream\<close> constitutes a probability space.\<close>
text \<open>The stochastic process \<^term>\<open>toss\<close> is adapted to the filtration it generates.\<close> 
text \<open>Similarly, the stochastic process \<^term>\<open>fortune\<close> is adapted to the filtration generated by the tosses.\<close>
text \<open>We provide the following lemma to explicitly calculate the probability of events in this probability space.\<close>
text \<open>Now we can express the expected value of a single coin toss.\<close>
text \<open>Now, we show that the tosses are independent from one another.\<close>
      text \<open>We consider the case where there is a zero probability event.\<close>
      text \<open>We now assume all events have positive probability.\<close>
      text \<open>The index set \<^term>\<open>J'\<close> consists of the indices of all non-trivial events.\<close>
text \<open>The fortune of a player is a martingale (resp. sub- or supermartingale) with respect to the filtration generated by the coin tosses.\<close>
